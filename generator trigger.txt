CREATE GENERATOR GEN_CLIFOR_CHAVE;

SET TERM ^ ;

CREATE OR ALTER TRIGGER BI_CLIFOR_CHAVE FOR CLIFOR
ACTIVE BEFORE INSERT
AS
BEGIN
  IF (NEW.CHAVE IS NULL) THEN
    NEW.CHAVE = GEN_ID(GEN_CLIFOR_CHAVE, 1);
END^

SET TERM ; ^

ALTER TABLE CLIFOR ADD CONSTRAINT PK_CLIFOR PRIMARY KEY (CHAVE);
